(this.webpackJsonpwarriorcats=this.webpackJsonpwarriorcats||[]).push([[0],{33:function(e,t,r){e.exports=r(55)},38:function(e,t,r){},55:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),c=r(19),o=r.n(c),i=(r(38),r(12)),l=r(14),u=r(29),s=r(22),m=r(6);function f(e){return{type:"FETCH_WARRIORS_SUCCESS",warriors:e}}var E=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];localStorage.setItem("catwarriors",JSON.stringify(e)),t&&localStorage.setItem("catwarriorsDate",(new Date).toUTCString())},b=function(){return function(e,t){var r=new Date(e.getFullYear(),e.getMonth(),e.getDate()),a=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=(a.getTime()-r.getTime())/864e5;return Math.floor(n)}(new Date(localStorage.getItem("catwarriorsDate")),new Date)>3?(localStorage.removeItem("catwarriors"),localStorage.removeItem("catwarriorsDate"),null):JSON.parse(localStorage.getItem("catwarriors"))};var d={pending:!1,warriors:[],error:null},g=[u.a],p=Object(l.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_WARRIORS_PENDING":return Object(m.a)(Object(m.a)({},e),{},{pending:!0});case"FETCH_WARRIORS_SUCCESS":return Object(m.a)(Object(m.a)({},e),{},{pending:!1,warriors:t.warriors});case"FETCH_WARRIORS_ERROR":return Object(m.a)(Object(m.a)({},e),{},{pending:!1,error:t.error});case"HIRE_WARRIOR":var r=e.warriors.map((function(e){return e.id===t.warrior.id&&(e.hired=!0),Object(m.a)({},e)}));return E(r),Object(m.a)(Object(m.a)({},e),{},{warriors:r});case"DISMISS_WARRIOR":var a=e.warriors.map((function(e){return e.id===t.warrior.id&&(e.hired=!1),Object(m.a)({},e)}));return E(a),Object(m.a)(Object(m.a)({},e),{},{warriors:a});case"RETIRE_WARRIOR":var n=e.warriors.filter((function(e){return e.id!==t.warrior.id}));return E(n),Object(m.a)(Object(m.a)({},e),{},{warriors:n});case"CREATE_WARRIOR":var c=[].concat(Object(s.a)(e.warriors),[t.warrior]);return E(c),Object(m.a)(Object(m.a)({},e),{},{warriors:c});default:return e}}),d,l.a.apply(void 0,g)),h=r(11),w=r(2),R=r(17),v=r(7),O=function(e){return e.warriors},j=function(e){return e.pending},S=function(e){return e.error},k=function(e){return(Math.max.apply(Math,Object(s.a)(e.warriors.map((function(e){return parseInt(e.id)}))))+1).toString()},y=["Fluffy","Mephisto","Rumjack","Greebo","Crookshanks","Shadowfax","Garfield","Felix","Maurice","Sylvester","Azrael","Salem","Macavity"],I=["Skinny","Black","White","Purr","Fluffy","Sharp","Grumpy","Rattle","Ultimate","Fuzzy","Sneaky","Furrocious"],C=["stripe","paws","fang","claw","tail","purr","smell","cuddles","bite"],N=function(e){return e[Math.floor(Math.random()*e.length)]},W=["Smell","Purr","Meow","Leap","Bite","Scratch","Snore","Sleep","Furball","Sneak"],F=["Doom","Destruction","Vegance","Destiny","Freedom","Glory","Purrification","Tail","Stripes","Revenge","Sayonara"];var T=Object(v.a)({backToList:{color:"green"}})((function(e){var t=e.classes,r=Object(w.f)();return n.a.createElement(n.a.Fragment,null,n.a.createElement("button",{className:t.backToList,onClick:function(){r.goBack()}},"Back To Previous Page "))})),D=r(30);var x=Object(i.b)((function(e){return{nextFreeId:k(e)}}),(function(e){return{createWarrior:function(t){return e(function(e){return{type:"CREATE_WARRIOR",warrior:e}}(t))}}}))(Object(v.a)({name:{},details:{},cancel:{background:"pink"},face:{width:"200px",height:"300px",objectFit:"contain"},desription:{},buttons:{backgroundColor:"yellow"}})((function(e){var t=e.createWarrior,r=e.nextFreeId,c=Object(a.useState)(""),o=Object(R.a)(c,2),i=o[0],l=o[1],u=Object(a.useState)(""),s=Object(R.a)(u,2),m=s[0],f=s[1],E=Object(a.useState)(""),b=Object(R.a)(E,2),d=b[0],g=b[1],p=Object(a.useState)(""),h=Object(R.a)(p,2),v=h[0],O=h[1],j=Object(w.f)(),S=function(){j.push("/")};return n.a.createElement("div",{className:"container"},n.a.createElement(T,null),n.a.createElement("h1",null,"WARRIOR CREATOR"),n.a.createElement("form",{onSubmit:function(e){e.preventDefault(),console.log(r),t({id:r,name:i,skill:m,description:d,image:v}),S()}},n.a.createElement("label",null,"Name:",n.a.createElement("input",{type:"text",value:i,onChange:function(e){return l(e.target.value)}}),n.a.createElement("button",{type:"button",onClick:function(){return l("".concat(N(y)," ").concat(N(I)).concat(N(C)))}},"Generate Random")),n.a.createElement("label",null,"Skill:",n.a.createElement("input",{type:"text",value:m,onChange:function(e){return f(e.target.value)}}),n.a.createElement("button",{type:"button",onClick:function(){return f("".concat(N(W)," of ").concat(N(F)))}}," Generate Random ")),n.a.createElement("label",null,"Description:",n.a.createElement("input",{type:"text",value:d,onChange:function(e){return g(e.target.value)}})),n.a.createElement("label",null,"Image URL:",n.a.createElement("input",{type:"text",value:v,onChange:function(e){return O(e.target.value)}})),n.a.createElement("input",{type:"submit",value:"Create"}),n.a.createElement("input",{type:"button",value:"Cancel",className:D.classes.cancel,onClick:S})))})));var _=Object(i.b)(null,(function(e){return{hireWarrior:function(t){return e(function(e){return{type:"HIRE_WARRIOR",warrior:e}}(t))},dismissWarrior:function(t){return e(function(e){return{type:"DISMISS_WARRIOR",warrior:e}}(t))}}}))(Object(v.a)({removeFromGang:{color:"green"},addToGang:{color:"red"}})((function(e){var t=e.warrior,r=e.classes,a=e.hireWarrior,c=e.dismissWarrior;return n.a.createElement(n.a.Fragment,null,t.hired?n.a.createElement("button",{className:r.removeFromGang,onClick:function(){return c(t)}},"Dismiss"):n.a.createElement("button",{className:r.addToGang,onClick:function(){return a(t)}},"Hire"))})));var A=Object(v.a)({name:{},buttons:{backgroundColor:"yellow"},face:{width:"200px",height:"300px",objectFit:"contain"},details:{},removeFromGang:{},addToGang:{}})((function(e){var t=e.warrior,r=e.classes,a=Object(w.f)();return n.a.createElement("div",{className:r.tile},n.a.createElement("h2",{className:r.name},t.name),n.a.createElement("img",{className:r.face,alt:"catface",src:t.image}),n.a.createElement("div",{className:r.buttons},n.a.createElement("button",{className:r.details,onClick:function(){a.push("/warrior/".concat(t.id))}},"Details"),n.a.createElement(_,{warrior:t})))}));var G=Object(v.a)({constainer:{},title:{}})((function(e){var t=e.classes,r=e.warriors,a=e.title,c=e.showBackButton;return n.a.createElement("div",{className:t.container},c?n.a.createElement(T,null):"",n.a.createElement("h3",{className:t.title},a),r.map((function(e,t){return n.a.createElement(A,{key:t,warrior:e})})))}));var M=Object(i.b)((function(e){return{warriors:O(e)}}),(function(e){return{retireWarrior:function(t){return e(function(e){return{type:"RETIRE_WARRIOR",warrior:e}}(t))}}}))(Object(v.a)({backToList:{background:"pink"},name:{},details:{},skill:{},face:{width:"200px",height:"300px",objectFit:"contain"},desription:{},buttons:{backgroundColor:"yellow"},removeFromGang:{},addToGang:{},retire:{}})((function(e){var t=e.classes,r=e.warriors,a=e.retireWarrior,c=Object(w.g)().id,o=r.filter((function(e){return e.id===c}))[0],i=Object(w.f)();return void 0===o?(i.push("/Error404"),null):n.a.createElement("div",{className:t.container},n.a.createElement(T,null),n.a.createElement("h2",{className:t.name},o.name),n.a.createElement("div",{className:t.details},n.a.createElement("img",{className:t.face,alt:"catface",src:o.image}),n.a.createElement("h3",{className:t.skill},o.skill),n.a.createElement("p",{className:t.description},o.description)),n.a.createElement("div",{className:t.buttons},n.a.createElement(_,{warrior:o}),n.a.createElement("button",{className:t.retire,onClick:function(){!0===window.confirm("Sure about retirement of this warrior?")&&(a(o),i.push("/"))}},"Retire")))})));var B=function(){var e=b();return e&&e.length>0?function(t){return t(f(e))}:function(e){e({type:"FETCH_WARRIORS_PENDING"}),fetch("https://run.mocky.io/v3/79dd242a-ebca-4998-bd55-e1d8a180b3ba").then((function(e){return e.json()})).then((function(t){if(t.error)throw t.error;return e(f(t)),E(t,!0),t})).catch((function(t){e(function(e){return{type:"FETCH_WARRIORS_ERROR",error:e}}(t))}))}},H=r(31),L=r.n(H);var P=function(){return n.a.createElement("div",{className:"spinner"},n.a.createElement(L.a,{size:150,color:"#123abc"}))};function U(){return n.a.createElement("div",{className:"Error"},"ZOMG ERROR")}var z=Object(v.a)({backToList:{color:"green"}})((function(e){var t=e.classes,r=Object(w.f)();return n.a.createElement(n.a.Fragment,null,n.a.createElement("button",{className:t.backToList,onClick:function(){r.push("/")}},"Back To List "))}));function J(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"Error"},"404 ERROR"),n.a.createElement(z,null))}var Y=Object(i.b)((function(e){return{error:S(e),warriors:O(e),pending:j(e)}}),(function(e){return Object(l.b)({fetchWarriors:B},e)}))(Object(v.a)({constainer:{},strengthInNumbers:{}})((function(e){var t=e.warriors,r=e.pending,c=e.error,o=e.fetchWarriors,i=e.classes;return Object(a.useEffect)(o,[]),n.a.createElement(h.a,null,n.a.createElement("div",null,n.a.createElement("nav",null,n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement(h.b,{to:"/"},"Home")),n.a.createElement("li",null,n.a.createElement(h.b,{to:"/create"},"Create New Warrior")),n.a.createElement("li",null,n.a.createElement(h.b,{to:"/gang"},"My Gang ",n.a.createElement("span",{className:i.strengthInNumbers},t.filter((function(e){return e.hired})).length))))),r?n.a.createElement(P,null):c?n.a.createElement(U,null):n.a.createElement(w.c,null,n.a.createElement(w.a,{exact:!0,path:"/warrior/:id"},n.a.createElement(M,null)),n.a.createElement(w.a,{exact:!0,path:"/create"},n.a.createElement(x,null)),n.a.createElement(w.a,{exact:!0,path:"/gang"},n.a.createElement(G,{showBackButton:!0,warriors:t.filter((function(e){return e.hired})),title:"My Gang"})),n.a.createElement(w.a,{exact:!0,path:"/"},n.a.createElement(G,{warriors:t,title:"List of Cats"})),n.a.createElement(w.a,null,n.a.createElement(J,null)))))})));var V=function(){return n.a.createElement(i.a,{store:p},n.a.createElement(Y,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.047de8c2.chunk.js.map